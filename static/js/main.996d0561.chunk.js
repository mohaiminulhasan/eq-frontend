(this.webpackJsonpeq=this.webpackJsonpeq||[]).push([[0],{216:function(e,t,a){},217:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(77),i=a.n(s),r=(a(216),a(17)),l=(a(217),a(47)),o=a.n(l),d=a(100),j=a(20),u=a(3),b=function(e){var t=e.id,a=e.name,c=e.value,n=e.state,s=e.handler,i=e.text;return Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",id:t,name:a,value:c,checked:n===c,onChange:s}),Object(u.jsx)("label",{htmlFor:t,children:i}),Object(u.jsx)("br",{})]})},x=a(58),p="https://demo-flask-app-hasan.herokuapp.com",h=a(377),O=a(381),f=a(107),y=a(108),v=a(88),g=a(85),m=a(105),k=a(384),w=a(201),C=a(200),S=a(382);function D(e){var t=new Date(e.date);return e.date="".concat(t.toLocaleString("default",{month:"short"})," ").concat(t.getDate()),e}function M(e){return e.impressions=Math.floor(e.impressions/1e3),e.revenue=Math.floor(e.revenue),e}function I(e,t){return"impressions"===e?Object(u.jsxs)("span",{children:[e," (in thousands)"]}):Object(u.jsx)("span",{children:e})}var E=function(e){var t=e.active,a=e.payload,c=e.label;return t&&a&&a.length?Object(u.jsxs)("div",{style:{backgroundColor:"white",border:"2px slateblue solid",padding:"0 20px"},children:[Object(u.jsxs)("p",{className:"label",children:["Time: ",c<10&&"0","".concat(c,":00")]}),Object(u.jsxs)("p",{children:["Events: ",a[0].value]}),Object(u.jsxs)("p",{children:["Date: ",a[0].payload.date]})]}):null},_=function(e){var t=e.active,a=e.payload,c=e.label;return t&&a&&a.length?Object(u.jsxs)("div",{style:{backgroundColor:"white",border:"2px slateblue solid",padding:"0 20px"},children:[Object(u.jsxs)("p",{className:"label",children:["Time: ",c<10&&"0","".concat(c,":00")]}),Object(u.jsxs)("p",{children:["Date: ",a[0].payload.date]}),Object(u.jsxs)("p",{children:["Clicks: ",a[0].payload.clicks]}),Object(u.jsxs)("p",{children:["Impressions: ",a[0].payload.impressions]}),Object(u.jsxs)("p",{children:["Revenue: ",a[0].payload.revenue]})]}):null},q=function(){var e=Object(c.useState)("events"),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)("daily"),i=Object(j.a)(s,2),l=i[0],x=i[1],q=Object(c.useState)(null),T=Object(j.a)(q,2),K=T[0],R=T[1];Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,c,n,s,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p,"/").concat(a,"/").concat(l),console.log(t),(c=new Headers).append("Content-Type","application/json"),n=new Request(t,{method:"GET",headers:c,mode:"cors"}),e.next=7,fetch(n);case 7:return s=e.sent,e.next=10,s.json();case 10:i=e.sent,r=i.map(D),"stats"===a&&(r=r.map(M)),R(r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,l]);var A=function(e){n(e.target.value)},z=function(e){x(e.target.value)},G="events"===a?Object(u.jsxs)(h.a,{width:730,height:250,data:K,children:[Object(u.jsx)(O.a,{strokeDasharray:"3 3"}),"hourly"===l&&Object(u.jsx)(f.a,{dataKey:"hour",xAxisId:0}),"hourly"===l&&Object(u.jsx)(f.a,{dataKey:"date",xAxisId:1}),"daily"===l&&Object(u.jsx)(f.a,{dataKey:"date"}),Object(u.jsx)(y.a,{}),"daily"===l?Object(u.jsx)(v.a,{}):Object(u.jsx)(v.a,{content:Object(u.jsx)(E,{})}),Object(u.jsx)(g.a,{}),Object(u.jsx)(m.a,{dataKey:"events",fill:"#8884d8"})]}):Object(u.jsxs)(k.a,{width:730,height:250,data:K,children:[console.log(K),Object(u.jsx)(f.a,{dataKey:"date"}),Object(u.jsx)(y.a,{}),"daily"===l?Object(u.jsx)(v.a,{}):Object(u.jsx)(v.a,{content:Object(u.jsx)(_,{})}),Object(u.jsx)(g.a,{formatter:I}),Object(u.jsx)(O.a,{stroke:"#f5f5f5"}),Object(u.jsx)(m.a,{dataKey:"clicks",barSize:20,fill:"#413ea0"}),Object(u.jsx)(w.a,{type:"monotone",dataKey:"revenue",fill:"#8884d8",stroke:"#8884d8"}),Object(u.jsx)(C.a,{type:"monotone",dataKey:"impressions",stroke:"#ff7300"})]}),W={display:"flex",flexDirection:"column",border:"2px darkslateblue solid",borderRadius:10,padding:"15px 30px"};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",margin:"20px 0"},children:[Object(u.jsxs)("div",{style:Object(r.a)({},W),children:[Object(u.jsx)(b,{id:"events",name:"category",value:"events",state:a,handler:A,text:"Events"}),Object(u.jsx)(b,{id:"stats",name:"category",value:"stats",state:a,handler:A,text:"Stats"})]}),Object(u.jsxs)("div",{style:Object(r.a)({},W),children:[Object(u.jsx)(b,{id:"daily",name:"span",value:"daily",state:l,handler:z,text:"Daily"}),Object(u.jsx)(b,{id:"hourly",name:"span",value:"hourly",state:l,handler:z,text:"Hourly"})]})]}),Object(u.jsx)(S.a,{width:"100%",height:700,children:G})]})},T=a(207),K=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),l=i[0],b=i[1],x=Object(c.useState)([]),h=Object(j.a)(x,2),O=h[0],f=h[1],y=new T.a(l,{keys:["name"]});Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a,c,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p,"/poi"),console.log(t),(a=new Headers).append("Content-Type","application/json"),c=new Request(t,{method:"GET",headers:a,mode:"cors"}),e.next=7,fetch(c);case 7:return n=e.sent,e.next=10,n.json();case 10:s=e.sent,b(s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var v={display:"flex",flexDirection:"row",justifyContent:"space-around",padding:5},g=[];return l.forEach((function(e){g.push(Object(u.jsxs)("div",{style:Object(r.a)({},v),children:[Object(u.jsx)("div",{children:e.poi_id}),Object(u.jsx)("div",{style:{backgroundColor:O.includes(e.poi_id-1)?"yellow":"transparent",flexBasis:"40%"},children:e.name}),Object(u.jsx)("div",{children:e.lat}),Object(u.jsx)("div",{children:e.lon})]},e.poi_id))})),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(u.jsxs)("div",{style:Object(r.a)({},{display:"flex",flexDirection:"column",width:"40vw",height:"80vh",justifyContent:"center"}),children:[Object(u.jsx)("div",{style:Object(r.a)({},{display:"flex",flexDirection:"row-reverse"}),children:Object(u.jsx)("input",{style:{margin:4,padding:4},type:"text",value:a,onChange:function(e){var t=y.search(e.target.value),a=[];0!==t.length&&t.forEach((function(e){a.push(e.refIndex)})),f(a),n(e.target.value)},placeholder:"Search...",autoFocus:!0})}),Object(u.jsxs)("div",{style:Object(r.a)({},{display:"flex",flexDirection:"row",backgroundColor:"darkslateblue",borderRadius:5,color:"white",fontWeight:"bold",justifyContent:"space-around",padding:5}),children:[Object(u.jsx)("div",{children:"id"}),Object(u.jsx)("div",{style:{flexBasis:"40%"},children:"name"}),Object(u.jsx)("div",{children:"latitude"}),Object(u.jsx)("div",{children:"longitude"})]}),g]})})},R=a(98),A={id:"clusters",type:"circle",source:"earthquakes",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}},z={id:"cluster-count",type:"symbol",source:"earthquakes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},G={id:"unclustered-point",type:"circle",source:"earthquakes",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};a.n(R).a.workerClass=a(372).default;function W(){var e=Object(c.useState)("events"),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({latitude:39.7837304,longitude:-100.4458825,width:"80vw",height:"60vh",zoom:4,bearing:0,pitch:50}),i=Object(j.a)(s,2),l=i[0],o=i[1],d=Object(c.useRef)(null),h=function(e){n(e.target.value)};return Object(u.jsxs)("div",{style:{display:"grid",justifyContent:"center",height:"90vh",alignContent:"center"},children:[Object(u.jsx)("div",{style:{display:"flex",justifyContent:"space-around",margin:"20px 0"},children:Object(u.jsxs)("div",{style:Object(r.a)({},{display:"flex",flexDirection:"column",border:"2px darkslateblue solid",borderRadius:10,padding:"15px 30px"}),children:[Object(u.jsx)(b,{id:"events",name:"category",value:"events",state:a,handler:h,text:"Events"}),Object(u.jsx)(b,{id:"stats",name:"category",value:"stats",state:a,handler:h,text:"Stats"})]})}),Object(u.jsx)(x.d,Object(r.a)(Object(r.a)({},l),{},{mapStyle:"mapbox://styles/mapbox/dark-v9",onViewportChange:o,mapboxApiAccessToken:"pk.eyJ1IjoibWluaWd1bm5yIiwiYSI6ImNrcWdzMGxpMDIwM3AycXM3MWdneDFhY28ifQ.Z1xP1Lr6tDGhuodviJh9lg",interactiveLayerIds:[A.id],onClick:function(e){var t=e.features[0],a=t.properties.cluster_id;d.current.getMap().getSource("earthquakes").getClusterExpansionZoom(a,(function(e,a){e||o(Object(r.a)(Object(r.a)({},l),{},{longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],zoom:a,transitionDuration:500}))}))},ref:d,children:Object(u.jsxs)(x.c,{id:"earthquakes",type:"geojson",data:"".concat(p,"/").concat(a,"/geo"),cluster:!0,clusterMaxZoom:14,clusterRadius:50,children:[Object(u.jsx)(x.a,Object(r.a)({},A)),Object(u.jsx)(x.a,Object(r.a)({},z)),Object(u.jsx)(x.a,Object(r.a)({},G))]})}))]})}var B=a(84),F=a(24);var H=function(){var e={textDecoration:"none",color:"black",textTransform:"uppercase",width:"20vh",textAlign:"center"},t={backgroundColor:"black",color:"white"},a=function(a,c){return Object(u.jsx)(B.b,{style:Object(r.a)({},e),activeStyle:Object(r.a)({},t),to:"".concat(a),children:c})};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("nav",{style:Object(r.a)({},{display:"flex",justifyContent:"space-around",height:50,lineHeight:"50px"}),children:[Object(u.jsx)(B.b,{style:Object(r.a)({},e),activeStyle:Object(r.a)({},t),exact:!0,to:"/",children:"Graph"}),a("/data-table","Data Table"),a("/map","Map")]}),Object(u.jsxs)(F.c,{children:[Object(u.jsx)(F.a,{exact:!0,path:"/",children:Object(u.jsx)(q,{})}),Object(u.jsx)(F.a,{path:"/data-table",children:Object(u.jsx)(K,{})}),Object(u.jsx)(F.a,{path:"/map",children:Object(u.jsx)(W,{})})]})]})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(B.a,{children:Object(u.jsx)(H,{})})}),document.getElementById("root"))}},[[375,1,2]]]);
//# sourceMappingURL=main.996d0561.chunk.js.map